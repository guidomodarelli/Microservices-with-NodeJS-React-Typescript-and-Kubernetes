## Comunicación entre Microservicios (Inter-Process Communication)

La comunicación dentro de nuestra arquitectura de microservicios será **orientada por eventos (event-driven)**, a diferencia de la comunicación **cliente ↔ API Gateway ↔ Microservicios**, que utiliza el patrón **solicitud-respuesta (HTTP/HTTPS)**.

Para la **comunicación entre microservicios**, utilizaremos **RabbitMQ** como intermediario, implementando el patrón **Productor-Consumidor** para la transferencia de eventos.

* **Envío de un evento** = El microservicio actúa como **Productor** 📤.
* **Recepción de un evento** = El microservicio actúa como **Consumidor** 📥.

---

## Patrones de Comunicación por Microservicio

A continuación, se detalla cómo se configurará el flujo de comunicación por eventos para cada microservicio:

### **1. Servicio de Notificaciones (Notification Service) 🔔**

Este servicio **solo recibirá** eventos, no enviará ninguno.

* **Recibe eventos de (Consumidor 📥):**
    1️⃣ Servicio de Autenticación (**Auth**).
    2️⃣ Servicio de Chat (**Chat**).

### **2. Servicio de Autenticación (Auth Service) 🛡️**

Este servicio **solo enviará** eventos, no recibirá ninguno.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Notificaciones (**Notification**).
    2️⃣ Servicio de Usuarios (**Users**).

### **3. Servicio de Usuarios (Users Service) 👤**

Este servicio actúa tanto como productor como consumidor de eventos.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Gigs (**Gig**) (p. ej., para actualizar un *gig*).
* **Recibe eventos de (Consumidor 📥):**
    1️⃣ Servicio de Autenticación (**Auth**).
    2️⃣ Servicio de Órdenes (**Order**).
    3️⃣ Servicio de Gigs (**Gig**).
    4️⃣ Servicio de Reseñas (**Review**).

### **4. Servicio de Gigs (Gig Service) 💼**

Este servicio solo se comunicará con el Servicio de Usuarios.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Usuarios (**Users**).
* **Recibe eventos de (Consumidor 📥):**
    1️⃣ Servicio de Usuarios (**Users**).

### **5. Servicio de Chat (Chat Service) 💬**

Este servicio **solo enviará** eventos al Servicio de Notificaciones.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Notificaciones (**Notification**).

### **6. Servicio de Órdenes (Order Service) 🛒**

Este servicio tiene un patrón mixto de envío y recepción.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Usuarios (**Users**).
    2️⃣ Servicio de Notificaciones (**Notification**).
* **Recibe eventos de (Consumidor 📥):**
    1️⃣ Servicio de Reseñas (**Review**).

### **7. Servicio de Reseñas (Review Service) ⭐**

Este servicio **solo enviará** eventos a otros servicios.

* **Envía eventos a (Productor 📤):**
    1️⃣ Servicio de Usuarios (**Users**).
    2️⃣ Servicio de Órdenes (**Order**).

---

## Nota Importante sobre la Comunicación Síncrona

Aunque es **posible** utilizar el enfoque **síncrono (HTTP/HTTPS)** para la comunicación entre microservicios, para este proyecto, toda la comunicación se manejará de forma **asíncrona** mediante la arquitectura **orientada por eventos** con **RabbitMQ**.